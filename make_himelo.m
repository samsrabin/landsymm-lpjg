% in_file = '/Users/Shared/PLUM/input/remaps_v6/cropfracs.remapv6.20180214.ecFertIrr0.setaside0103.m4.txt.gz' ;
% out_file = '/Users/Shared/PLUM/input/remaps_v6/cropfracs.remapv6.20180214.ecFertIrr0.setaside0103.m4.himelo0.txt' ;
% in_file = '/Users/Shared/PLUM/input/remaps_v6/nfert.remapv6.20180214.ecFertIrr0.setaside0103.m4.txt' ;
% out_file = '/Users/Shared/PLUM/input/remaps_v6/nfert.remapv6.20180214.ecFertIrr0.setaside0103.m4.himelo0.txt' ;

% in_file = '/Users/Shared/PLUM/input/remaps_v6p6/cropfracs.remapv6p6.txt' ;
% out_file = '/Users/Shared/PLUM/input/remaps_v6p6/cropfracs.remapv6p6.himelo0.txt' ;
in_file = '/Users/Shared/PLUM/input/remaps_v6p6/nfert.remapv6p6.txt' ;
out_file = '/Users/Shared/PLUM/input/remaps_v6p6/nfert.remapv6p6.himelo0.txt' ;


%% Do it

addpath(genpath('/Users/sam/Documents/Dropbox/LPJ-GUESS-PLUM/MATLAB_work'))

del_cols = {'Miscanthus','Miscanthusi'} ;
add_cols = {'CerealsC30','CerealsC30200','CerealsC31000', ...
            'CerealsC40','CerealsC40200','CerealsC41000', ...
            'Rice0','Rice0200','Rice1000', ...
            'Oilcrops0','Oilcrops0200','Oilcrops1000', ...
            'Pulses0','Pulses0200','Pulses1000', ...
            'StarchyRoots0','StarchyRoots0200','StarchyRoots1000', ...
            'CerealsC3i0','CerealsC3i0200','CerealsC3i1000', ...
            'CerealsC4i0','CerealsC4i0200','CerealsC4i1000', ...
            'Ricei0','Ricei0200','Ricei1000', ...
            'Oilcropsi0','Oilcropsi0200','Oilcropsi1000', ...
            'Pulsesi0','Pulsesi0200','Pulsesi1000', ...
            'StarchyRootsi0','StarchyRootsi0200','StarchyRootsi1000'} ;
        
lastCharIsNum = @(x) ~isempty(regexp(x(end),'[0-9]','once')) ;
justZeroCols = 16 + find(cellfun(lastCharIsNum,add_cols)) ;

removeCols_addZeros(in_file, del_cols, add_cols, out_file, ...
    'justZeroCols', justZeroCols) ;